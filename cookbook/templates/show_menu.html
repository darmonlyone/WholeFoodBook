{% load diplay_tag %}
    <div class="container content">
    <div class="row" id="category-content">
        <!-- filter tab -->
        <div class="col-md-5 col-lg-3" id="filterby">

            <div class="row" id="filterby">
                <div id="timeprep">
                    <div id="header">TIME PREP</div>
                    <hr>
                </div>
                    <div class="row" align="left">
                        <div class="col-md-6">

                           <label class="containerfilter">15 minutes
                            <input type="checkbox" class="check time-but" id="t15-mins">
                            <span class="checkmark"></span>
                        </label>
                        <label class="containerfilter">1 Hour
                            <input type="checkbox" class="check time-but" id="t1-hours">
                            <span class="checkmark"></span>
                        </label>
                        <label class="containerfilter">2 Hours
                            <input type="checkbox" class="check time-but" id="t2-hours">
                            <span class="checkmark"></span>
                        </label>
                        </div>
                        <div class="col-md-6">
                            <label class="containerfilter">30 minutes
                            <input type="checkbox" class="check time-but" id="t30-mins">
                            <span class="checkmark"></span>
                        </label>
                        <label class="containerfilter">1 Half Hours
                            <input type="checkbox" class="check time-but" id="t1half30-hours">
                            <span class="checkmark"></span>
                        </label>
                        <label class="containerfilter">Over 2 hrs
                            <input type="checkbox" class="check time-but" id="tover2-hours">
                            <span class="checkmark"></span>
                        </label>
                        </div>
                    </div>

                <div id="Equipment">
                    <div id="header">EQUIPMENT</div>
                    <hr>
                </div>
                    <div class="row" align="left">
                        <div class="col-md-6">

                            <label class="containerfilter">Oven
                            <input type="checkbox" class="check equip-but" id="oven">
                            <span class="checkmark"></span>
                        </label>
                        <label class="containerfilter">Microwave
                            <input type="checkbox" class="check equip-but" id="microwave">
                            <span class="checkmark"></span>
                        </label>
                        </div>
                        <div class="col-md-6">
                           <label class="containerfilter">Mixer
                            <input type="checkbox" class="check equip-but" id="mixer">
                            <span class="checkmark"></span>
                        </label>
                        <label class="containerfilter">Blender
                            <input type="checkbox" class="check equip-but" id="blender">
                            <span class="checkmark"></span>
                        </label>
                        </div>
                    </div>


                 <div id="allergies">
                    <div id="header">ALLERGIES</div>
                    <hr>
                </div>
                    <div class="row" align="left">
                        <div class="col-md-6">

                            <label class="containerfilter">Nuts
                                <input type="checkbox" >
                                <span class="checkmark"></span>
                            </label>
                            <label class="containerfilter">Milk
                                <input type="checkbox" >
                                <span class="checkmark"></span>
                            </label>
                            <label class="containerfilter">Shrimp
                                <input type="checkbox" >
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="col-md-6">
                            <label class="containerfilter">Shellfish
                                <input type="checkbox" >
                                <span class="checkmark"></span>
                            </label>
                                <label class="containerfilter">Soy
                                <input type="checkbox" >
                                <span class="checkmark"></span>
                            </label>
                            <label class="containerfilter">Egg
                                <input type="checkbox" >
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>

                    <div id="Rating">
                    <div id="header">RATING</div>
                    <hr>
                </div>


                <button type="button" class="btn btn-light btn-lg btn-block">Filter By</button>
                <button type="button" class="btn btn-secondary btn-lg btn-block" >Clear Filter</button>
            </div>
        </div>
<!-- {% for recipe in recipe_show %} -->
        <script>
            $(function () {
                $('#filterby').on('click', function () {

                    var time = document.getElementsByClassName("time-but");
                    var equip = document.getElementsByClassName("equip-but");
                    var aller = document.getElementsByClassName("aller-but");
                    for (var i = 0; i < time.length; i++) {
                        time[i].addEventListener("click", function () {
                            // filter by time[i]
                            for (var j = 0; j < equip.length; j++) {
                                equip[j].addEventListener("click", function () {
                                    // filter by time[i]+equip[j]

                                    for (var k = 0; k < aller.length; k++) {
                                        aller[k].addEventListener("click", function () {
                                            //filter by time[i]+equip[j]+aller[k]

                                            break;
                                        });
                                    }
                                });
                            }
                        });
                    }
                    for (var j = 0; j < equip.length; j++) {
                        equip[j].addEventListener("click", function () {
                            // filter by time[i]+equip[j]
                            a = get_filter_model_equipment_tags(a, equip[j]);
                            for (var k = 0; k < aller.length; k++) {
                                aller[k].addEventListener("click", function () {
                                    //filter by time[i]+equip[j]+aller[k]
                                    a = get_filter_model_allergies_tags(a, aller[k]);
                                    break;
                                });
                            }
                        });
                    }
                    for (var k = 0; k < aller.length; k++) {
                        aller[k].addEventListener("click", function () {
                            //filter by time[i]+equip[j]+aller[k]
                            a = {% get_filter_model_allergies_tags a aller[k] %};
                            break;
                        });
                    }


                });

                $('#clearfilter').on('click',function() {
                    $('#foodlist').html("");
                    //add list of food by filter
                });
            });

        </script>

        <!-- {% endfor %} -->
        <!-- แสดงเมนู -->
        <div class="col-md-7 col-lg-9" id="display-food">
            <ul id="foodlist">
                <li>
                {% for recipe in recipe_show %}

                    <div class="card food-card">
                    <a href='{% url 'cookbook:recipe' recipe.get_recipe_name %}' style='color:black; text-decoration:none;'>
                            <img class="card-img-top"  src="{{ recipe.get_recipe_image_1.url }}" alt="Card image cap">

                        <div class="card-body">
                            <strong>{{ recipe.get_recipe_name }}</strong>
                            <p class="card-text {%replace_text_space recipe.get_recipe_name%}">{% cut_text_newline  recipe.get_recipe_info %}</p>
                            <p style="float:left;">{{ recipe.get_recipe_chef }}</p>
                        </div>
                        </a>
                    </div>
                    {% if forloop.counter|divisibleby:3 %}
                    </li>
                <li>
                {% endif %}

                {% endfor %}
                </li>
            </ul>
        </div>

    </div>

</div>